<div class="container" *ngIf = "loaded">
    <div class="row">

        <div class="col-12 ImageContainer">
            <div class="profilePic"></div>
        </div>

        <div class="col-12 text-center identifier">
            {{username}}
        </div>
    </div>

    <div class="row border my-4 p-3 justify-content-between">

        <div class="col-5">
            <div class="input-group mb-3">
                
                <div class="input-group-prepend">
                    <span class="input-group-text" id="basic-addon1">First Name</span>
                </div>

                <input type="text" [(ngModel)]="FieldsValue[0]" ngModel name="firstname" #firstname="ngModel"
                    class="form-control" required maxlength="50" [ngClass]="{'is-valid':enableEditing && firstname.touched && validInput[0],
                                'is-invalid': enableEditing && firstname.touched && !validInput[0]}" [disabled] = "!enableEditing" (input)="ValidateControl(0,firstname)">

                <div class="valid-feedback">
                    Looks good!
                </div>

                <div class="invalid-feedback">
                    {{ErrMsg[0]}}
                </div>
            </div>
        </div>

        <div class="col-7">
            <div class="input-group mb-3">
                
                <div class="input-group-prepend">
                    <span class="input-group-text" id="basic-addon1">Last Name</span>
                </div>

                <input type="text" [(ngModel)]="FieldsValue[1]" ngModel name="lastname" #lastname="ngModel"
                    class="form-control" required maxlength="50" [ngClass]="{'is-valid':enableEditing && lastname.touched && validInput[1],
                                'is-invalid': enableEditing && lastname.touched && !validInput[1]}" [disabled] = "!enableEditing" (input)="ValidateControl(1,phone)">

                <div class="valid-feedback">
                    Looks good!
                </div>

                <div class="invalid-feedback">
                    {{ErrMsg[1]}}
                </div>
            </div>
        </div>


        <!-- =-=-=-=-=-=- -->

        <div class="col-5">
            <div class="input-group mb-3">
                <div class="input-group-prepend">
                    <span class="input-group-text" id="basic-addon1">Username</span>
                </div>
                <input type="text" class="form-control" [value]="User[0].username" disabled>
            </div>
        </div>

        <div class="col-7">
            <div class="input-group mb-3">
                <div class="input-group-prepend">
                    <span class="input-group-text" id="basic-addon1">Email</span>
                </div>
                <input type="text" class="form-control" [value]="User[0].email" disabled>
            </div>
        </div>


        <!-- Editable -->

        <div class="col-5">
            <div class="input-group mb-3">
                
                <div class="input-group-prepend">
                    <span class="input-group-text" id="basic-addon1">Password</span>
                </div>

                <input type="password" [(ngModel)]="FieldsValue[2]" ngModel name="Pass" #Pass="ngModel"
                    class="form-control" required maxlength="50" [ngClass]="{'is-valid':enableEditing && Pass.touched && validInput[2],
                                'is-invalid': enableEditing && Pass.touched && !validInput[2]}" [disabled] = "!enableEditing" (input)="ValidateControl(2,Pass)">

                <div class="valid-feedback">
                    Looks good!
                </div>

                <div class="invalid-feedback">
                    {{ErrMsg[2]}}
                </div>
            </div>
        </div>

        <div class="col-7">
            <div class="input-group mb-3">
                
                <div class="input-group-prepend">
                    <span class="input-group-text" id="basic-addon1">Phone</span>
                </div>

                <input type="tel" [(ngModel)]="FieldsValue[3]" ngModel name="phone" #phone="ngModel"
                    class="form-control" required minlength="11" maxlength="11" [ngClass]="{'is-valid':enableEditing && phone.touched && validInput[3],
                                'is-invalid': enableEditing && phone.touched && !validInput[3]}" [disabled] = "!enableEditing" (input)="ValidateControl(3,phone)">

                <div class="valid-feedback">
                    Looks good!
                </div>

                <div class="invalid-feedback">
                    {{ErrMsg[3]}}
                </div>
            </div>
        </div>

        <div class="col-4">
            <div class="input-group mb-3">
                
                <div class="input-group-prepend">
                    <span class="input-group-text" id="basic-addon1">City</span>
                </div>

                <input type="text" [(ngModel)]="FieldsValue[4]" ngModel name="city" #city="ngModel"
                    class="form-control" required maxlength="50" [ngClass]="{'is-valid':enableEditing && city.touched && validInput[4],
                                'is-invalid': enableEditing && city.touched && !validInput[4]}" [disabled] = "!enableEditing" (input)="ValidateControl(4,city)">

                <div class="valid-feedback">
                    Looks good!
                </div>

                <div class="invalid-feedback">
                    {{ErrMsg[4]}}
                </div>
            </div>
        </div>

        <div class="col-4">
            <div class="input-group mb-3">
                
                <div class="input-group-prepend">
                    <span class="input-group-text" id="basic-addon1">Street</span>
                </div>

                <input type="text" [(ngModel)]="FieldsValue[5]" ngModel name="Street" #Street="ngModel"
                    class="form-control" required maxlength="50" [ngClass]="{'is-valid':enableEditing && Street.touched && validInput[5],
                                'is-invalid': enableEditing && Street.touched && !validInput[5]}" [disabled] = "!enableEditing" (input)="ValidateControl(5,Street)">

                <div class="valid-feedback">
                    Looks good!
                </div>

                <div class="invalid-feedback">
                    {{ErrMsg[5]}}
                </div>
            </div>
        </div>

        <div class="col-4">
            <div class="input-group mb-3">
                
                <div class="input-group-prepend">
                    <span class="input-group-text" id="basic-addon1">House Number</span>
                </div>

                <input type="text" [(ngModel)]="FieldsValue[6]" ngModel name="HouseNumber" #HouseNumber="ngModel"
                    class="form-control" required maxlength="50" [ngClass]="{'is-valid':enableEditing && HouseNumber.touched && validInput[6],
                                'is-invalid': enableEditing && HouseNumber.touched && !validInput[6]}" [disabled] = "!enableEditing" (input)="ValidateControl(6,HouseNumber)">

                <div class="valid-feedback">
                    Looks good!
                </div>

                <div class="invalid-feedback">
                    {{ErrMsg[6]}}
                </div>
            </div>
        </div>






    </div>


    <div class="row">
        <div class="col-12 text-right mt-2 actions">
            <button class="cartButtons btn-success" *ngIf = "!enableEditing" (click) = "enableEditing = true; FieldsValue[2] = ''">Edit You Profile</button>
            <button class="cartButtons btn-success" *ngIf = "enableEditing && !allValid" disabled>Save Changes</button>
            <button class="cartButtons btn-success" *ngIf = "enableEditing && allValid" (click) = "UpdateUser()">Save Changes</button>
        </div>
    </div>
</div>